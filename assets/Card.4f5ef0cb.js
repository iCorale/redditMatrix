import{S as z,i as B,s as D,I as w,J as V,K as F,j as E,L as X,n as k,k as L,M as R,ab as Z,ac as v,G as P,g,c as x,h,A as p,m as $,t as y,_ as ee,$ as Y,a as M,d as te,o as G,ad as H,ae as I,B as T,af as se,a0 as ae,a3 as re,C as ne,q as S,ag as ie,D as le,F as j,a8 as ce,a6 as oe,u as ue}from"./vendor.0ae95c6a.js";import{m as C}from"./aria-property.797fe874.js";import{s as J}from"./transition.171a74a8.js";function de(t){var e=t||window.event;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function fe(t,{callback:e,delay:n=700}){let a=!1,r;function i(){a=!0,r||(r=setTimeout(e,n))}function s(d){a=!1,r&&(clearTimeout(r),r=null)}return t.addEventListener("contextmenu",d=>{a&&de(d)}),t.addEventListener("touchstart",i),t.addEventListener("touchend",s),t.addEventListener("touchmove",s),{destroy(){t.removeEventListener("touchstart",i),t.removeEventListener("touchend",s),t.removeEventListener("touchmove",s)}}}function he(t){let e,n='<path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10s10-4.5 10-10S17.5 2 12 2m-2 15l-5-5l1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>',a=[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},t[0]],r={};for(let i=0;i<a.length;i+=1)r=w(r,a[i]);return{c(){e=V("svg"),F(e,r)},m(i,s){E(i,e,s),e.innerHTML=n},p(i,[s]){F(e,r=X(a,[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},s&1&&i[0]]))},i:k,o:k,d(i){i&&L(e)}}}function _e(t,e,n){return t.$$set=a=>{n(0,e=w(w({},e),R(a)))},e=R(e),[e]}class me extends z{constructor(e){super();B(this,e,_e,he,D,{})}}function K(t){let e,n,a,r,i;return a=new me({props:{style:"font-size: 1.5rem; color: var(--foreground-color)"}}),{c(){e=g("div"),n=g("div"),x(a.$$.fragment),h(n,"class","svelte-1r8ogh2"),h(e,"class","check svelte-1r8ogh2")},m(s,d){E(s,e,d),p(e,n),$(a,n,null),i=!0},i(s){i||(y(a.$$.fragment,s),s&&ee(()=>{r||(r=Y(n,J,{},!0)),r.run(1)}),i=!0)},o(s){M(a.$$.fragment,s),s&&(r||(r=Y(n,J,{},!1)),r.run(0)),i=!1},d(s){s&&L(e),te(a),s&&r&&r.end()}}}function ve(t){let e,n,a,r,i,s,d,f,b,_,c=t[5]&&K();return{c(){e=g("section"),c&&c.c(),n=G(),a=g("div"),r=g("div"),i=G(),s=g("img"),h(r,"class","backdrop svelte-1r8ogh2"),h(s,"loading","lazy"),h(s,"alt",t[1]),H(s.src,d=t[2])||h(s,"src",d),h(s,"class","svelte-1r8ogh2"),h(a,"class","img svelte-1r8ogh2"),I(a,"dim",t[5]),h(e,"class","svelte-1r8ogh2")},m(u,o){E(u,e,o),c&&c.m(e,null),p(e,n),p(e,a),p(a,r),p(a,i),p(a,s),t[9](s),f=!0,b||(_=[T(s,"error",t[10],{once:!0}),T(s,"load",t[8]),se(fe.call(null,a,{callback:t[7]})),T(a,"click",t[11])],b=!0)},p(u,[o]){u[5]?c?o&32&&y(c,1):(c=K(),c.c(),y(c,1),c.m(e,n)):c&&(ae(),M(c,1,1,()=>{c=null}),re()),(!f||o&2)&&h(s,"alt",u[1]),(!f||o&4&&!H(s.src,d=u[2]))&&h(s,"src",d),o&32&&I(a,"dim",u[5])},i(u){f||(y(c),f=!0)},o(u){M(c),f=!1},d(u){u&&L(e),c&&c.d(),t[9](null),b=!1,ne(_)}}}const m=P([]);function ge(){v(m).forEach(t=>{t.checked.set(!1)}),m.set(v(m)),C.set("idle")}function we(){const t=[];v(m).forEach(e=>{v(e.checked)&&t.push(e.url)}),navigator.clipboard&&navigator.clipboard.writeText(t.join(`
`)),ge()}const pe=Z(m,t=>t.reduce((e,n)=>(v(n.checked)&&e++,e),0));function be(t,e,n){let a,r,i,s=k,d=()=>(s(),s=ie(_,l=>n(5,i=l)),_),f,b=k;S(t,m,l=>n(12,a=l)),S(t,C,l=>n(4,r=l)),S(t,pe,l=>n(6,f=l)),t.$$.on_destroy.push(()=>s()),t.$$.on_destroy.push(()=>b());let{checked:_=P(!1)}=e;d();let{title:c,url:u}=e,o;function q(){(o==null?void 0:o.naturalWidth)?n(3,o.style.aspectRatio="auto",o):requestAnimationFrame(q)}requestAnimationFrame(q);async function A(l=!1){f>1&&!l||(j(_,i=!i,i),m.set(a),await ce(),a.some(U=>v(U.checked))?j(C,r="selection",r):j(C,r="idle",r))}le(()=>{a.push({checked:_,url:u})});function W(l){oe.call(this,t,l)}function N(l){ue[l?"unshift":"push"](()=>{o=l,n(3,o)})}const O=()=>{n(3,o.style.display="none",o)},Q=()=>f>=1&&r==="selection"&&A(!0);return t.$$set=l=>{"checked"in l&&d(n(0,_=l.checked)),"title"in l&&n(1,c=l.title),"url"in l&&n(2,u=l.url)},[_,c,u,o,r,i,f,A,W,N,O,Q]}class Ee extends z{constructor(e){super();B(this,e,be,ve,D,{checked:0,title:1,url:2})}}export{Ee as C,we as a,ge as h,pe as s};
