(function(){"use strict";let _;const g=new Array(32).fill(void 0);g.push(void 0,null,!0,!1);function c(e){return g[e]}let m=g.length;function q(e){e<36||(g[e]=m,m=e)}function h(e){const n=c(e);return q(e),n}let p=0,v=null;function M(){return(v===null||v.buffer!==_.memory.buffer)&&(v=new Uint8Array(_.memory.buffer)),v}let x=new TextEncoder("utf-8");const G=typeof x.encodeInto=="function"?function(e,n){return x.encodeInto(e,n)}:function(e,n){const o=x.encode(e);return n.set(o),{read:e.length,written:o.length}};function R(e,n,o){if(o===void 0){const i=x.encode(e),u=n(i.length);return M().subarray(u,u+i.length).set(i),p=i.length,u}let s=e.length,t=n(s);const r=M();let a=0;for(;a<s;a++){const i=e.charCodeAt(a);if(i>127)break;r[t+a]=i}if(a!==s){a!==0&&(e=e.slice(a)),t=o(t,s,s=a+e.length*3);const i=M().subarray(t+a,t+s);a+=G(e,i).written}return p=a,t}function E(e){return e==null}let O=null;function A(){return(O===null||O.buffer!==_.memory.buffer)&&(O=new Int32Array(_.memory.buffer)),O}function f(e){m===g.length&&g.push(g.length+1);const n=m;return m=g[n],g[n]=e,n}let U=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});U.decode();function T(e,n){return U.decode(M().subarray(e,e+n))}let j=null;function Y(){return(j===null||j.buffer!==_.memory.buffer)&&(j=new Float64Array(_.memory.buffer)),j}function L(e){const n=typeof e;if(n=="number"||n=="boolean"||e==null)return`${e}`;if(n=="string")return`"${e}"`;if(n=="symbol"){const t=e.description;return t==null?"Symbol":`Symbol(${t})`}if(n=="function"){const t=e.name;return typeof t=="string"&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let r="[";t>0&&(r+=L(e[0]));for(let a=1;a<t;a++)r+=", "+L(e[a]);return r+="]",r}const o=/\[object ([^\]]+)\]/.exec(toString.call(e));let s;if(o.length>1)s=o[1];else return toString.call(e);if(s=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:s}function J(e,n,o){var s=R(n,_.__wbindgen_malloc,_.__wbindgen_realloc),t=p,r=_.get_matches(f(e),s,t,!E(o),E(o)?0:o);return h(r)}function P(e,n){try{return e.apply(this,n)}catch(o){_.__wbindgen_exn_store(f(o))}}async function X(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(s){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}const o=await e.arrayBuffer();return await WebAssembly.instantiate(o,n)}else{const o=await WebAssembly.instantiate(e,n);return o instanceof WebAssembly.Instance?{instance:o,module:e}:o}}async function F(e){typeof e=="undefined"&&(e="/redditMatrix/assets/fuzzy_complete_bg.wasm");const n={};n.wbg={},n.wbg.__wbindgen_object_drop_ref=function(t){h(t)},n.wbg.__wbindgen_string_get=function(t,r){const a=c(r);var i=typeof a=="string"?a:void 0,u=E(i)?0:R(i,_.__wbindgen_malloc,_.__wbindgen_realloc),b=p;A()[t/4+1]=b,A()[t/4+0]=u},n.wbg.__wbindgen_number_new=function(t){var r=t;return f(r)},n.wbg.__wbindgen_string_new=function(t,r){var a=T(t,r);return f(a)},n.wbg.__wbindgen_object_clone_ref=function(t){var r=c(t);return f(r)},n.wbg.__wbindgen_is_object=function(t){const r=c(t);var a=typeof r=="object"&&r!==null;return a},n.wbg.__wbindgen_is_null=function(t){var r=c(t)===null;return r},n.wbg.__wbindgen_is_undefined=function(t){var r=c(t)===void 0;return r},n.wbg.__wbindgen_boolean_get=function(t){const r=c(t);var a=typeof r=="boolean"?r?1:0:2;return a},n.wbg.__wbindgen_number_get=function(t,r){const a=c(r);var i=typeof a=="number"?a:void 0;Y()[t/8+1]=E(i)?0:i,A()[t/4+0]=!E(i)},n.wbg.__wbg_set_f1a4ac8f3a605b11=function(t,r,a){c(t)[h(r)]=h(a)},n.wbg.__wbg_new_949bbc1147195c4e=function(){var t=new Array;return f(t)},n.wbg.__wbindgen_is_function=function(t){var r=typeof c(t)=="function";return r},n.wbg.__wbg_next_c4151d46d5fa7097=function(t){var r=c(t).next;return f(r)},n.wbg.__wbg_next_7720502039b96d00=function(){return P(function(t){var r=c(t).next();return f(r)},arguments)},n.wbg.__wbg_done_b06cf0578e89ff68=function(t){var r=c(t).done;return r},n.wbg.__wbg_value_e74a542443d92451=function(t){var r=c(t).value;return f(r)},n.wbg.__wbg_iterator_4fc4ce93e6b92958=function(){var t=Symbol.iterator;return f(t)},n.wbg.__wbg_get_4d0f21c2f823742e=function(){return P(function(t,r){var a=Reflect.get(c(t),c(r));return f(a)},arguments)},n.wbg.__wbg_call_888d259a5fefc347=function(){return P(function(t,r){var a=c(t).call(c(r));return f(a)},arguments)},n.wbg.__wbg_new_0b83d3df67ecb33e=function(){var t=new Object;return f(t)},n.wbg.__wbg_isArray_eb7ad55f2da67dde=function(t){var r=Array.isArray(c(t));return r},n.wbg.__wbg_push_284486ca27c6aa8b=function(t,r){var a=c(t).push(c(r));return a},n.wbg.__wbg_instanceof_ArrayBuffer_764b6d4119231cb3=function(t){var r=c(t)instanceof ArrayBuffer;return r},n.wbg.__wbg_values_364ae56c608e6824=function(t){var r=c(t).values();return f(r)},n.wbg.__wbg_new_342a24ca698edd87=function(t,r){var a=new Error(T(t,r));return f(a)},n.wbg.__wbg_buffer_397eaa4d72ee94dd=function(t){var r=c(t).buffer;return f(r)},n.wbg.__wbg_new_a7ce447f15ff496f=function(t){var r=new Uint8Array(c(t));return f(r)},n.wbg.__wbg_set_969ad0a60e51d320=function(t,r,a){c(t).set(c(r),a>>>0)},n.wbg.__wbg_length_1eb8fc608a0d4cdb=function(t){var r=c(t).length;return r},n.wbg.__wbg_instanceof_Uint8Array_08a1f3a179095e76=function(t){var r=c(t)instanceof Uint8Array;return r},n.wbg.__wbindgen_debug_string=function(t,r){var a=L(c(r)),i=R(a,_.__wbindgen_malloc,_.__wbindgen_realloc),u=p;A()[t/4+1]=u,A()[t/4+0]=i},n.wbg.__wbindgen_throw=function(t,r){throw new Error(T(t,r))},n.wbg.__wbindgen_rethrow=function(t){throw h(t)},n.wbg.__wbindgen_memory=function(){var t=_.memory;return f(t)},(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:o,module:s}=await X(await e,n);return _=o.exports,F.__wbindgen_wasm_module=s,_}const K=F();var Q=Object.freeze({__proto__:null,search:async(e,n)=>(await K,J(e,n,20))});const H=Symbol("Comlink.proxy"),Z=Symbol("Comlink.endpoint"),ee=Symbol("Comlink.releaseProxy"),C=Symbol("Comlink.thrown"),z=e=>typeof e=="object"&&e!==null||typeof e=="function",ne={canHandle:e=>z(e)&&e[H],serialize(e){const{port1:n,port2:o}=new MessageChannel;return W(e,n),[o,[o]]},deserialize(e){return e.start(),ae(e)}},te={canHandle:e=>z(e)&&C in e,serialize({value:e}){let n;return e instanceof Error?n={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:n={isError:!1,value:e},[n,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},$=new Map([["proxy",ne],["throw",te]]);function W(e,n=self){n.addEventListener("message",function o(s){if(!s||!s.data)return;const{id:t,type:r,path:a}=Object.assign({path:[]},s.data),i=(s.data.argumentList||[]).map(d);let u;try{const b=a.slice(0,-1).reduce((l,S)=>l[S],e),w=a.reduce((l,S)=>l[S],e);switch(r){case"GET":u=w;break;case"SET":b[a.slice(-1)[0]]=d(s.data.value),u=!0;break;case"APPLY":u=w.apply(b,i);break;case"CONSTRUCT":{const l=new w(...i);u=ie(l)}break;case"ENDPOINT":{const{port1:l,port2:S}=new MessageChannel;W(e,S),u=se(l,[l])}break;case"RELEASE":u=void 0;break;default:return}}catch(b){u={value:b,[C]:0}}Promise.resolve(u).catch(b=>({value:b,[C]:0})).then(b=>{const[w,l]=I(b);n.postMessage(Object.assign(Object.assign({},w),{id:t}),l),r==="RELEASE"&&(n.removeEventListener("message",o),D(n))})}),n.start&&n.start()}function re(e){return e.constructor.name==="MessagePort"}function D(e){re(e)&&e.close()}function ae(e,n){return N(e,[],n)}function k(e){if(e)throw new Error("Proxy has been released and is not useable")}function N(e,n=[],o=function(){}){let s=!1;const t=new Proxy(o,{get(r,a){if(k(s),a===ee)return()=>y(e,{type:"RELEASE",path:n.map(i=>i.toString())}).then(()=>{D(e),s=!0});if(a==="then"){if(n.length===0)return{then:()=>t};const i=y(e,{type:"GET",path:n.map(u=>u.toString())}).then(d);return i.then.bind(i)}return N(e,[...n,a])},set(r,a,i){k(s);const[u,b]=I(i);return y(e,{type:"SET",path:[...n,a].map(w=>w.toString()),value:u},b).then(d)},apply(r,a,i){k(s);const u=n[n.length-1];if(u===Z)return y(e,{type:"ENDPOINT"}).then(d);if(u==="bind")return N(e,n.slice(0,-1));const[b,w]=V(i);return y(e,{type:"APPLY",path:n.map(l=>l.toString()),argumentList:b},w).then(d)},construct(r,a){k(s);const[i,u]=V(a);return y(e,{type:"CONSTRUCT",path:n.map(b=>b.toString()),argumentList:i},u).then(d)}});return t}function oe(e){return Array.prototype.concat.apply([],e)}function V(e){const n=e.map(I);return[n.map(o=>o[0]),oe(n.map(o=>o[1]))]}const B=new WeakMap;function se(e,n){return B.set(e,n),e}function ie(e){return Object.assign(e,{[H]:!0})}function I(e){for(const[n,o]of $)if(o.canHandle(e)){const[s,t]=o.serialize(e);return[{type:"HANDLER",name:n,value:s},t]}return[{type:"RAW",value:e},B.get(e)||[]]}function d(e){switch(e.type){case"HANDLER":return $.get(e.name).deserialize(e.value);case"RAW":return e.value}}function y(e,n,o){return new Promise(s=>{const t=ce();e.addEventListener("message",function r(a){!a.data||!a.data.id||a.data.id!==t||(e.removeEventListener("message",r),s(a.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:t},n),o)})}function ce(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}W(Q)})();
